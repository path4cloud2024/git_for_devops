ğŸ” GitHub Branch Protection â€“ Pull Request Rules Explained
	Branch protection rules are used to protect important branches like main, master, release/*, or production.
        They enforce quality, security, and process discipline before code can be merged.

        âœ… 1. Protect matching branches
                ğŸ”¹ What it means: This rule applies to all branches whose names match a pattern, such as: main,release/*,prod-*
                Once enabled, GitHub enforces the selected protections on those branches with following additional options:
                âœ… Require a pull request before merging
                        ğŸ”¹ What it does: Prevents direct commits or pushes to the protected branch.
                        âœ” All changes must:
                                Be made in a feature branch
                                Be submitted via a Pull Request
                                Go through review + checks
                        ğŸ”¹ Why itâ€™s important
                                Prevents accidental pushes to main
                                Enforces review process
                                Creates audit trail
                        ğŸ”¹ Real-world use: Always enabled for main / production branches

                âœ… Require approvals
                        ğŸ”¹ What it does: Requires a specific number of approved reviews before merge.
                                Example: Require 2 approvals
                        PR cannot merge until 2 reviewers approve, Any â€œChanges requestedâ€ blocks the merge
                        ğŸ”¹ Why itâ€™s important
                                Enforces peer review
                                Reduces bugs
                                Improves code quality
                        ğŸ”¹ Real-world use
                                1 approval â†’ small teams
                                2â€“3 approvals â†’ enterprise teams

                âœ… Dismiss stale pull request approvals when new commits are pushed
                        ğŸ”¹ What it does: If new commits are added to the PR: Previous approvals are automatically dismissed and 
                                Reviewers must re-approve
                        ğŸ”¹ Why itâ€™s important
                                Prevents this situation:
                                â€œI changed the code after approval without reviewers noticingâ€
                        ğŸ”¹ Real-world use
                                âœ” Highly recommended
                                âœ” Standard in secure teams

                âœ… Require review from Code Owners
                        ğŸ”¹ What it does: Requires approval from specific owners of files or directories.
                        Uses the CODEOWNERS file:
                                /infra/   @devops-team
                                /app/     @backend-team
                        If PR changes /infra/, then @devops-team must approve.
                        ğŸ”¹ Why itâ€™s important
                                Ensures domain experts review changes
                                Prevents unauthorized modifications
                        ğŸ”¹ Real-world use: Infrastructure/Security/Platform teams

                âœ… Restrict who can dismiss pull request reviews
                        ğŸ”¹ What it does: Controls who can remove an approval or dismiss â€œchanges requestedâ€.
                                Example:
                                        Only team leads can dismiss reviews
                                        Developers cannot dismiss their own rejected reviews
                        ğŸ”¹ Why itâ€™s important
                                Prevents abuse
                                Protects reviewer authority
                                Enforces accountability

                âœ… Allow specified actors to bypass required pull requests
                        ğŸ”¹ What it does: Allows specific users, teams, or apps to merge without PR.
                        âš ï¸ This bypass applies only to PR requirement, not:
                                Status checks
                                Signed commits
                                Deployment checks
                        ğŸ”¹ Why itâ€™s important
                                Emergency hotfixes
                                Automation tools
                                Release managers
                        ğŸ”¹ Real-world use: CI/CD bots, Platform admins (very limited)

                âœ… Require approval of the most recent reviewable push
                        ğŸ”¹ What it does: Ensures the latest commit is approved by someone else.
                        Prevents:
                                Author pushes new commit
                                Immediately merges without review
                        ğŸ”¹ Why itâ€™s important
                                Guarantees the final code was reviewed
                                Prevents last-minute unreviewed changes
                        ğŸ”¹ Real-world use
                                âœ” Strong governance
                                âœ” Recommended for production branches

        âœ… 2. Require status checks to pass before merging
                ğŸ”¹ What it does: Prevents merging unless all selected CI checks pass.
                        Examples of checks: Build/Unit tests/Security scans/Code coverage
                ğŸ”¹ How it works: 
                        - Developer pushes code to a feature branch
                        - Opens a Pull Request
                        - GitHub waits for CI checks (GitHub Actions, Jenkins, etc.)
                        - Merge button stays disabled until checks pass
                ğŸ”¹ Why itâ€™s important
                        âœ” Prevents broken code from reaching main
                        âœ” Enforces automated testing
                        âœ” Foundation of CI/CD pipelines
                ğŸ”¹ Use case: Always enable for production branches

        âœ… 3. Require conversation resolution before merging
                ğŸ”¹ What it does: Requires all PR review comments and discussions to be resolved before merging.
                        Example: If a reviewer comments, The PR cannot be merged until, the author fixes it and marks the conversation as Resolved
                ğŸ”¹ Why itâ€™s important
                        âœ” Ensures feedback is addressed
                        âœ” Prevents ignoring reviewer concerns
                        âœ” Improves code quality
                ğŸ”¹ Use case: Teams with mandatory code reviews

        âœ… 4. Require signed commits
                ğŸ”¹ What it does: Allows only cryptographically signed commits (GPG / SSH).
                        GitHub shows:
                                âœ… Verified
                                âŒ Unverified
                ğŸ”¹ Why itâ€™s important
                        âœ” Prevents commit spoofing
                        âœ” Ensures commits are from trusted developers
                        âœ” Critical for compliance & security
                ğŸ”¹ Use case: Enterprise environments, Open-source projects, Regulated industries (finance, healthcare)

        âœ… 5. Require linear history
                ğŸ”¹ What it does: Disallows merge commits. Only allows: Rebase/Squash merge
                ğŸ”¹ Result: Clean, straight commit history:
                        A â†’ B â†’ C â†’ D
                        Instead of:
                        A â†’ B â†’ â”
                                â”œâ†’ M
                        C â†’ D â†’ â”˜
                ğŸ”¹ Why itâ€™s important
                        âœ” Cleaner history
                        âœ” Easier debugging
                        âœ” Better git bisect
                ğŸ”¹ Use case: Teams that prefer clean Git history

        âœ… 6. Require merge queue
                ğŸ”¹ What it does: Forces PRs to be merged one at a time via a queue.
                        GitHub: Queues PRs, Re-runs checks with latest main, Merges only if everything passes
                ğŸ”¹ Why itâ€™s important
                        âœ” Prevents â€œworks alone but breaks togetherâ€ issues
                        âœ” Solves race conditions in CI
                        âœ” Ensures every merge is validated against latest code
                ğŸ”¹ Use case: High-traffic repositories with many parallel PRs

        âœ… 7. Require deployments to succeed before merging
                ğŸ”¹ What it does: Requires a successful deployment to selected environments (e.g. staging) before merge.
                ğŸ”¹ Example: PR must deploy successfully to staging, Only then can it be merged into main
                ğŸ”¹ Why itâ€™s important
                        âœ” Verifies real environment behavior
                        âœ” Reduces production failures
                        âœ” Adds release confidence
                ğŸ”¹ Use case: Advanced CI/CD pipelines with environments

        ğŸ”’ 8. Lock branch
                ğŸ”¹ What it does: Makes the branch read-only, No pushes, No merges. No PRs
                ğŸ”¹ Why itâ€™s important:
                        âœ” Freeze releases
                        âœ” Emergency lockdown
                        âœ” Archive old branches
                ğŸ”¹ Use case: Release freeze, Incident response, Deprecated branches

        ğŸš« 9. Do not allow bypassing the above settings
                ğŸ”¹ What it does: Applies rules to everyone, including: Admins and Users with â€œbypassâ€ permission
                ğŸ”¹ Why itâ€™s important:
                        âœ” No special privileges
                        âœ” Prevents â€œadmin overrideâ€ mistakes
                        âœ” Strong governance
                ğŸ”¹ Use case: Strict compliance environments

        ğŸ‘¥ 10. Restrict who can push to matching branches
                ğŸ”¹ What it does: Only allows specific users, teams, or apps to push. Even they: Must pass status checks, Cannot bypass protections
                ğŸ”¹ Why itâ€™s important
                        âœ” Prevents accidental pushes
                        âœ” Controls production access
                        âœ” Improves security
                ğŸ”¹ Use case: Only release managers can push to main, CI bots can push version tags

ğŸ” GitHub Protected Branch Workflow (Diagram)
ğŸ§­ High-level flow

Developer
   |
   | 1. Create feature branch
   |    (feat/login-auth)
   v
Feature Branch
   |
   | 2. Push commits
   v
Pull Request (PR)
   |
   |-- CI Checks (build, test, lint)
   |        |
   |        â””â”€ Must PASS âœ…
   |
   |-- Code Review
   |        |
   |        â”œâ”€ Required Approvals (e.g., 2)
   |        â”œâ”€ Code Owners Approval (if files match)
   |        â””â”€ All comments resolved
   |
   |-- New commit pushed?
   |        |
   |        â””â”€ Old approvals dismissed ğŸ”„
   |
   v
Merge Queue (optional)
   |
   |-- Rebase / squash
   |-- Re-run checks on latest main
   |
   v
Protected Branch (main)
   |
   |-- Merge allowed âœ…
   |
   v
Deploy / Release


ğŸ¯ Recommended Production Setup (main branch)

âœ” Require pull request
âœ” Require 2 approvals
âœ” Dismiss stale approvals
âœ” Require code owner review
âœ” Require approval of latest commit
âœ” Restrict who can dismiss reviews
âŒ Avoid PR bypass unless absolutely necessary